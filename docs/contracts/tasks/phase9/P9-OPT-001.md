Task ID: P9-OPT-001
Rule ID: INV-P9-STEADY-005
Governing Law: LAW-OUTPUT-LIVENESS
Subsystem: FrameRingBuffer
Task Type: OPTIONAL
File(s) to Modify: pkg/air/src/buffer/FrameRingBuffer.cpp
Owner: AIR
Blocked By: P9-CORE-008

Instructions:
- Add equilibrium warning log
- Log when depth outside [1, 2N] for > 1 second
- Include depth, range, and duration in log
- Rate-limit to avoid log spam

---

Rule Definition (INV-P9-STEADY-005):
Buffer depth MUST oscillate around target (default: 3 frames). Depth MUST remain in range [1, 2N] during steady-state.

Implementation:

```cpp
void LogEquilibriumViolation(int depth, int duration_ms) {
    static auto last_log = std::chrono::steady_clock::time_point{};
    auto now = std::chrono::steady_clock::now();

    // Rate-limit to 1 log per 5 seconds
    if (now - last_log < std::chrono::seconds(5)) {
        return;
    }
    last_log = now;

    LOG_WARNING("INV-P9-STEADY-005: "
                "Buffer depth {} outside equilibrium range [{}, {}] "
                "for {}ms",
                depth, kMinEquilibriumDepth, kMaxEquilibriumDepth,
                duration_ms);
}
```

Done Criteria:
Warning logged when depth outside range for > 1 second; rate-limited to avoid spam.

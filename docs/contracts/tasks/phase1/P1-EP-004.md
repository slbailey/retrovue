Task ID: P1-EP-004
Rule ID: INV-ENCODER-NO-B-FRAMES-001
Subsystem: EncoderPipeline
Task Type: TEST
File(s) to Modify: pkg/air/tests/contracts/MpegTSPlayoutSink/MpegTSPlayoutSinkContractTests.cpp
Test or Log Name: TEST_INV_ENCODER_NO_B_FRAMES_001

Instructions:
- Implement exactly one atomic task
- Modify ONLY the listed file(s)
- Do not refactor
- Do not add logs unless explicitly requested
- Do not change production behavior unless task type = FIX
- Stop immediately after task passes

---

Rule Definition:
Encoder MUST NOT produce B-frames; output contains only I-frames (IDR) and P-frames. B-frames require future frames for decoding, which conflicts with live playout.

Test Scenario:
- Given: EncoderPipeline encoding video
- When: 60 frames are encoded (covers 2 GOPs at gop_size=30)
- Then: All output packets are I-frames or P-frames
- And: No output packet has AV_PICTURE_TYPE_B

Assertions Required:
1. Verify codec_ctx->max_b_frames == 0 after encoder init
2. Encode 60 video frames
3. Inspect each output packet's pict_type
4. Assert no packet has pict_type == AV_PICTURE_TYPE_B
5. Confirm mix of I and P frames present (not all I-frames)

Constraints:
- Use existing test harness patterns
- Do not modify EncoderPipeline implementation
- Must actually inspect encoded packet metadata, not just config
- Use FFmpeg's AVPacket or equivalent to check frame type

Done Criteria:
Test asserts 60 encoded frames contain zero AV_PICTURE_TYPE_B packets.

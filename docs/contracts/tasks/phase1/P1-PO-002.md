Task ID: P1-PO-002
Rule ID: INV-P10-SINK-GATE
Subsystem: ProgramOutput
Task Type: TEST
File(s) to Modify: pkg/air/tests/contracts/PrimitiveInvariants/PacingInvariantContractTests.cpp
Test or Log Name: TEST_INV_P10_SINK_GATE

Instructions:
- Implement exactly one atomic task
- Modify ONLY the listed file(s)
- Do not refactor
- Do not add logs unless explicitly requested
- Do not change production behavior unless task type = FIX
- Stop immediately after task passes

---

Rule Definition:
ProgramOutput must not consume frames from the buffer before a sink is attached. Frames should remain in the buffer until AttachSink is called.

Test Scenario:
- Given: ProgramOutput started with no sink attached
- And: Frames are present in the buffer with valid CT
- When: The render loop advances past the frame's CT
- Then: The frame is NOT consumed from the buffer
- And: Buffer depth remains unchanged

Assertions Required:
1. Buffer depth before render loop iteration is recorded
2. Render loop advances past frame CT
3. Buffer depth after iteration equals buffer depth before
4. No ConsumeVideo call made to any sink

Constraints:
- Use existing test harness patterns
- Do not modify ProgramOutput implementation
- Do not attach a sink during the test
- Verify frame remains unconsumed, not just that no output occurred

Done Criteria:
Test asserts buffer depth unchanged when no sink attached and frame CT arrives.

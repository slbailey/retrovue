Task ID: P11C-003
Rule ID: INV-BOUNDARY-DECLARED-001
Subsystem: PlayoutEngine
Task Type: LOG
File(s) to Modify: pkg/air/src/runtime/PlayoutEngine.cpp
Owner: AIR
Blocked By: P11C-002

Instructions:
- Parse target_boundary_time_ms from legacy switch RPCRequest
- Log the received value
- Do NOT enforce yet (enforcement is Phase 11D)

---

Rule Definition:
legacy switch RPC MUST include `target_boundary_time_ms` parameter; Core declares intent, AIR executes at that time.

Implementation:

1. Extract field from request:
   ```cpp
   int64_t target_boundary_time_ms = request.target_boundary_time_ms();
   ```

2. Log receipt:
   ```cpp
   if (target_boundary_time_ms > 0) {
       LOG_INFO("[PlayoutEngine] INV-BOUNDARY-DECLARED-001: legacy switch RPC received with target_boundary_time_ms=%ld",
                target_boundary_time_ms);
   } else {
       LOG_INFO("[PlayoutEngine] INV-BOUNDARY-DECLARED-001: legacy switch RPC received without target (legacy mode)");
   }
   ```

3. Store for later use by P11B-002 (timing violation detection):
   ```cpp
   pending_switch_target_time_ms_ = target_boundary_time_ms;
   ```

Log Specification:

With target:
```
[PlayoutEngine] INV-BOUNDARY-DECLARED-001: legacy switch RPC received with target_boundary_time_ms=1738340400000
```

Without target (legacy):
```
[PlayoutEngine] INV-BOUNDARY-DECLARED-001: legacy switch RPC received without target (legacy mode)
```

Constraints:
- Do NOT change switch behavior (yet)
- Just parse, log, and store the value
- Use stored value in P11B-002 for timing comparison

Done Criteria:
AIR logs receipt of target_boundary_time_ms on every legacy switch RPC; value stored for timing checks.

---

Completion (2026-02-01): PlayoutEngine::legacy switch RPC(channel_id, target_boundary_time_ms) logs INV-BOUNDARY-DECLARED-001; value used for P11B-002/003/004.

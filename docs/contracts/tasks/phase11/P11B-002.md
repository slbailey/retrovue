Task ID: P11B-002
Rule ID: INV-BOUNDARY-TOLERANCE-001
Subsystem: PlayoutEngine
Task Type: LOG
File(s) to Modify: pkg/air/src/runtime/PlayoutEngine.cpp
Owner: AIR
Blocked By: P11B-001

Instructions:
- Log violation when switch completes more than 1 frame late
- Requires target_boundary_time to compare against (from P11C-003)
- Until P11C complete, use approximate boundary from current segment timing

---

Rule Definition:
Grid boundary transitions MUST complete within one video frame duration (33.33ms at 30fps) of the absolute scheduled boundary time.

Log Specification:

When switch completes >1 frame late:
```
[PlayoutEngine] INV-BOUNDARY-TOLERANCE-001 VIOLATION: Switch completed %dms late (target=%ld, actual=%ld, tolerance=33ms)
```

When switch completes on time:
```
[PlayoutEngine] INV-BOUNDARY-TOLERANCE-001: Switch on time (delta=%dms, tolerance=33ms)
```

Implementation:
```cpp
int64_t delta_ms = completion_time_ms - target_boundary_time_ms;
int64_t tolerance_ms = 1000 / target_fps;  // 33ms at 30fps

if (delta_ms > tolerance_ms) {
    LOG_WARN("[PlayoutEngine] INV-BOUNDARY-TOLERANCE-001 VIOLATION: Switch completed %ldms late (target=%ld, actual=%ld, tolerance=%ldms)",
             delta_ms, target_boundary_time_ms, completion_time_ms, tolerance_ms);
} else {
    LOG_INFO("[PlayoutEngine] INV-BOUNDARY-TOLERANCE-001: Switch on time (delta=%ldms, tolerance=%ldms)",
             delta_ms, tolerance_ms);
}
```

Constraints:
- Log level is WARN for violations, INFO for success
- Include all timing values for diagnosis
- Do not fail/reject the switch (observability only in this phase)

Done Criteria:
Violation log emitted when switch exceeds 1-frame tolerance; success log emitted otherwise.

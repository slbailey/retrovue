Task ID: P12-CORE-010
Rule ID: INV-SESSION-CREATION-UNGATED-001
Governing Law: LAW-AUTHORITY-HIERARCHY
Subsystem: ChannelManager
Task Type: FIX
File(s) to Modify: pkg/core/src/retrovue/runtime/channel_manager.py, pkg/core/src/retrovue/runtime/channel_manager_launch.py
Owner: Core
Blocked By: P12-CORE-001

Instructions:
- Remove boundary feasibility check from session creation path
- Session creation must always succeed if resources available and schedule exists
- Move feasibility evaluation to after AIR launch
- Return 200 + begin playback immediately on viewer tune-in

---

Governing Principle (LAW-AUTHORITY-HIERARCHY):
> Clock authority supersedes frame completion for switch execution.

Rule Definition (INV-SESSION-CREATION-UNGATED-001):
Session creation (viewer tune-in) MUST NOT be gated on boundary feasibility. A session may be created whenever:
1. A viewer requests playout
2. Resources are available (AIR can be launched)
3. Schedule data exists for the current time

Implementation:

1. In session creation path (wherever 503 is currently returned for boundary feasibility):
   - Remove the pre-launch feasibility check
   - Compute current segment and seek offset
   - Launch AIR immediately
   - Evaluate boundary feasibility *after* session is created

2. The check `boundary_time >= now + STARTUP_LATENCY + MIN_PREFEED_LEAD_TIME`:
   - MUST NOT gate session creation
   - MUST be evaluated for boundary commitment (separate step)

3. Pseudo-logic change:
   ```python
   # BEFORE (wrong):
   def create_session(viewer_request):
       boundary = get_next_boundary(now)
       if boundary.time < now + STARTUP_LATENCY + MIN_PREFEED:
           return 503  # WRONG: gates session on boundary
       launch_air(...)

   # AFTER (correct):
   def create_session(viewer_request):
       segment = get_current_segment(now)
       launch_air(segment, seek_offset)  # Always succeeds
       # Boundary evaluation happens separately, after launch
   ```

4. Log: `INV-SESSION-CREATION-UNGATED-001: Session created for viewer at {time}`

Constraints:
- MUST NOT reject session due to boundary timing
- MUST still reject session for actual resource failures (AIR won't start, no schedule)
- Boundary feasibility is a separate concern handled by P12-CORE-011/012

Rationale:
Session creation is orthogonal to boundary execution. A viewer tuning in mid-segment is entitled to receive that segment's content regardless of when the next transition occurs. Refusing to play content that is already "in progress" on the schedule timeline violates LAW-AUTHORITY-HIERARCHY.

Done Criteria:
Session creation never returns 503 due to boundary timing; AIR launched immediately on viewer tune-in; boundary feasibility evaluated separately after launch.
